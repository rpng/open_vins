<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ov_core::TrackBase class | OpenVINS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600&amp;subset=latin-ext" />
  <link rel="stylesheet" href="m-udel+documentation.compiled.css" />
  <link rel="stylesheet" href="custom.css" />
  <link rel="icon" href="favicon-light.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2f73a3" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">OpenVINS</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="namespaceov__core.html">ov_core</a></li>
            <li><a href="namespaceov__type.html">ov_type</a></li>
            <li><a href="namespaceov__msckf.html">ov_msckf</a></li>
            <li><a href="namespaceov__eval.html">ov_eval</a></li>
            <li><a href="annotated.html">Classes</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="7">
            <li><a href="https://github.com/rpng/open_vins/">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceov__core.html">ov_core</a>::<wbr/></span>TrackBase <span class="m-thin">class</span>
        </h1>
        <p>Visual feature tracking base class.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#derived-classes">Derived classes</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#pro-methods">Protected functions</a></li>
                <li><a href="#pro-attribs">Protected variables</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>This is the base class for all our visual trackers. The goal here is to provide a common interface so all underlying trackers can simply hide away all the complexities. We have something called the &quot;feature database&quot; which has all the tracking information inside of it. The user can ask this database for features which can then be used in an MSCKF or batch-based setting. The feature tracks store both the raw (distorted) and undistorted/normalized values. Right now we just support two camera models, see: <a href="classov__core_1_1TrackBase.html#a9ccde97a49519204713b86b7d8669649" class="m-doc">undistort_<wbr />point_<wbr />brown()</a> and <a href="classov__core_1_1TrackBase.html#a3cbb0736d74105309b487d5bf0a00552" class="m-doc">undistort_<wbr />point_<wbr />fisheye()</a>.</p><aside class="m-note m-warning"><h3>A Note on Multi-Threading Support</h3><p>There is some support for asynchronous multi-threaded feature tracking of independent cameras. The key assumption during implementation is that the user will not try to track on the same camera in parallel, and instead call on different cameras. For example, if I have two cameras, I can either sequentially call the feed function, or I spin each of these into separate threads and wait for their return. The <a href="classov__core_1_1TrackBase.html#af59db0441bf16f0e7c62d8f3bd09e5f0" class="m-doc">currid</a> is atomic to allow for multiple threads to access it without issue and ensure that all features have unique id values. We also have mutex for access for the calibration and previous images and tracks (used during visualization). It should be noted that if a thread calls visualization, it might hang or the feed thread might, due to acquiring the mutex for that specific camera id / feed.</p></aside><p>This base class also handles most of the heavy lifting with the visualization, but the sub-classes can override this and do their own logic if they want (i.e. the <a href="classov__core_1_1TrackAruco.html" class="m-doc">TrackAruco</a> has its own logic for visualization). This visualization needs access to the prior images and their tracks, thus must synchronise in the case of multi-threading. This shouldn&#x27;t impact performance, but high frequency visualization calls can negatively effect the performance.</p>
        <section id="derived-classes">
          <h2><a href="#derived-classes">Derived classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classov__core_1_1TrackAruco.html" class="m-doc">TrackAruco</a>
            </dt>
            <dd>Tracking of OpenCV Aruoc tags.</dd>
            <dt>
              class <a href="classov__core_1_1TrackDescriptor.html" class="m-doc">TrackDescriptor</a>
            </dt>
            <dd>Descriptor-based visual tracking.</dd>
            <dt>
              class <a href="classov__core_1_1TrackKLT.html" class="m-doc">TrackKLT</a>
            </dt>
            <dd>KLT tracking of features.</dd>
            <dt>
              class <a href="classov__core_1_1TrackSIM.html" class="m-doc">TrackSIM</a>
            </dt>
            <dd>Simulated tracker for when we already have uv measurements!</dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt id="a31ceefe1e7628d8853010e91673951eb">
              <span class="m-doc-wrap-bumper"><a href="#a31ceefe1e7628d8853010e91673951eb" class="m-doc-self">TrackBase</a>(</span><span class="m-doc-wrap">)</span>
            </dt>
            <dd>Public default constructor.</dd>
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#acee27a2960643366891d02b3ddccfcf7" class="m-doc">TrackBase</a>(</span><span class="m-doc-wrap"><a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> numfeats,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> numaruco)</span>
            </dt>
            <dd>Public constructor with configuration variables.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ade62fff1a5c8fad9d4bbf3ae70d676c2" class="m-doc">set_calibration</a>(</span><span class="m-doc-wrap">std::map&lt;size_t, Eigen::VectorXd&gt; camera_calib,
              std::map&lt;size_t, bool&gt; camera_fisheye,
              bool correct_active = false)</span>
            </dt>
            <dd>Given a the camera intrinsic values, this will set what we should normalize points with. This will also update the feature database with corrected normalized values. Normally this would only be needed if we are optimizing our camera parameters, and thus should re-normalize.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a1a0cb1578213936a730b15bd4b62c1a0" class="m-doc">feed_monocular</a>(</span><span class="m-doc-wrap">double timestamp,
              cv::Mat&amp; img,
              size_t cam_id) <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Process a new monocular image.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a3ab3dae61cb75c69650823f47d7308d0" class="m-doc">feed_stereo</a>(</span><span class="m-doc-wrap">double timestamp,
              cv::Mat&amp; img_left,
              cv::Mat&amp; img_right,
              size_t cam_id_left,
              size_t cam_id_right) <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Process new stereo pair of images.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a384a0736f1d62da3261a84be7b5430b3" class="m-doc">display_active</a>(</span><span class="m-doc-wrap">cv::Mat&amp; img_out,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> r1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> g1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> b1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> r2,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> g2,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> b2) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Shows features extracted in the last image.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ac6089c0151db430e34d3386355d406b8" class="m-doc">display_history</a>(</span><span class="m-doc-wrap">cv::Mat&amp; img_out,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> r1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> g1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> b1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> r2,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> g2,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> b2) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Shows a &quot;trail&quot; for each feature (i.e. its history)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a2502acec48c294534be3100e137614ff" class="m-doc">get_feature_database</a>(</span><span class="m-doc-wrap">) -&gt; <a href="classov__core_1_1FeatureDatabase.html" class="m-doc">FeatureDatabase</a>*</span>
            </dt>
            <dd>Get the feature database with all the track information.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a14c9b34477ca6aa86e7b8f7cca7a4173" class="m-doc">change_feat_id</a>(</span><span class="m-doc-wrap">size_t id_old,
              size_t id_new)</span>
            </dt>
            <dd>Changes the ID of an actively tracked feature to another one.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#ae4d6d23cff828ac9a04c47c36743280a" class="m-doc">undistort_point</a>(</span><span class="m-doc-wrap">cv::Point2f pt_in,
              size_t cam_id) -&gt; cv::Point2f</span>
            </dt>
            <dd>Main function that will undistort/normalize a point.</dd>
          </dl>
        </section>
        <section id="pro-methods">
          <h2><a href="#pro-methods">Protected functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a9ccde97a49519204713b86b7d8669649" class="m-doc">undistort_point_brown</a>(</span><span class="m-doc-wrap">cv::Point2f pt_in,
              cv::Matx33d&amp; camK,
              cv::Vec4d&amp; camD) -&gt; cv::Point2f</span>
            </dt>
            <dd>Undistort function RADTAN/BROWN.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a3cbb0736d74105309b487d5bf0a00552" class="m-doc">undistort_point_fisheye</a>(</span><span class="m-doc-wrap">cv::Point2f pt_in,
              cv::Matx33d&amp; camK,
              cv::Vec4d&amp; camD) -&gt; cv::Point2f</span>
            </dt>
            <dd>Undistort function FISHEYE/EQUIDISTANT.</dd>
          </dl>
        </section>
        <section id="pro-attribs">
          <h2><a href="#pro-attribs">Protected variables</a></h2>
          <dl class="m-doc">
            <dt id="a0e86777b367def6c2a84da2f92ee6410">
              <a href="classov__core_1_1FeatureDatabase.html" class="m-doc">FeatureDatabase</a>* <a href="#a0e86777b367def6c2a84da2f92ee6410" class="m-doc-self">database</a>
            </dt>
            <dd>Database with all our current features.</dd>
            <dt id="a10325315c2e52ab8367097d57b7020c6">
              std::map&lt;size_t, bool&gt; <a href="#a10325315c2e52ab8367097d57b7020c6" class="m-doc-self">camera_fisheye</a>
            </dt>
            <dd>If we are a fisheye model or not.</dd>
            <dt id="a1bea5cedbd20a1c3257973baaa681ff7">
              std::map&lt;size_t, cv::Matx33d&gt; <a href="#a1bea5cedbd20a1c3257973baaa681ff7" class="m-doc-self">camera_k_OPENCV</a>
            </dt>
            <dd>Camera intrinsics in OpenCV format.</dd>
            <dt id="a9b325edaa21eb6ddb174705fcada5c4a">
              std::map&lt;size_t, cv::Vec4d&gt; <a href="#a9b325edaa21eb6ddb174705fcada5c4a" class="m-doc-self">camera_d_OPENCV</a>
            </dt>
            <dd>Camera distortion in OpenCV format.</dd>
            <dt id="a22e5b8a82308be5190933e5991891e9a">
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> <a href="#a22e5b8a82308be5190933e5991891e9a" class="m-doc-self">num_features</a>
            </dt>
            <dd>Number of features we should try to track frame to frame.</dd>
            <dt id="a8d9a970b148abdee71e1ace835c38c7c">
              std::vector&lt;std::mutex&gt; <a href="#a8d9a970b148abdee71e1ace835c38c7c" class="m-doc-self">mtx_feeds</a>
            </dt>
            <dd>Mutexs for our last set of image storage (img_last, pts_last, and ids_last)</dd>
            <dt id="a84396d08375c2c796fc759de12d28469">
              std::map&lt;size_t, cv::Mat&gt; <a href="#a84396d08375c2c796fc759de12d28469" class="m-doc-self">img_last</a>
            </dt>
            <dd>Last set of images (use map so all trackers render in the same order)</dd>
            <dt id="ad44a9e0c34c63b477be5fd2a63a6fb61">
              std::unordered_map&lt;size_t, std::vector&lt;cv::KeyPoint&gt;&gt; <a href="#ad44a9e0c34c63b477be5fd2a63a6fb61" class="m-doc-self">pts_last</a>
            </dt>
            <dd>Last set of tracked points.</dd>
            <dt id="aaf73cf7b7fd410d8532733875154ed2f">
              std::unordered_map&lt;size_t, std::vector&lt;size_t&gt;&gt; <a href="#aaf73cf7b7fd410d8532733875154ed2f" class="m-doc-self">ids_last</a>
            </dt>
            <dd>Set of IDs of each current feature in the database.</dd>
            <dt id="af59db0441bf16f0e7c62d8f3bd09e5f0">
              std::atomic&lt;size_t&gt; <a href="#af59db0441bf16f0e7c62d8f3bd09e5f0" class="m-doc-self">currid</a>
            </dt>
            <dd>Master ID for this tracker (atomic to allow for multi-threading)</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="acee27a2960643366891d02b3ddccfcf7"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#acee27a2960643366891d02b3ddccfcf7" class="m-doc-self">TrackBase</a>(</span><span class="m-doc-wrap"><a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> numfeats,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> numaruco)</span></span>
            </h3>
            <p>Public constructor with configuration variables.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">numfeats</td>
                  <td>number of features we want want to track (i.e. track 200 points from frame to frame)</td>
                </tr>
                <tr>
                  <td>numaruco</td>
                  <td>the max id of the arucotags, so we ensure that we start our non-auroc features above this value</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ade62fff1a5c8fad9d4bbf3ae70d676c2"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ade62fff1a5c8fad9d4bbf3ae70d676c2" class="m-doc-self">set_calibration</a>(</span><span class="m-doc-wrap">std::map&lt;size_t, Eigen::VectorXd&gt; camera_calib,
              std::map&lt;size_t, bool&gt; camera_fisheye,
              bool correct_active = false)</span></span>
            </h3>
            <p>Given a the camera intrinsic values, this will set what we should normalize points with. This will also update the feature database with corrected normalized values. Normally this would only be needed if we are optimizing our camera parameters, and thus should re-normalize.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">camera_calib</td>
                  <td>Calibration parameters for all cameras [fx,fy,cx,cy,d1,d2,d3,d4]</td>
                </tr>
                <tr>
                  <td>camera_fisheye</td>
                  <td>Map of camera_id =&gt; bool if we should do radtan or fisheye distortion model</td>
                </tr>
                <tr>
                  <td>correct_active</td>
                  <td>If we should re-undistort active features in our database</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a1a0cb1578213936a730b15bd4b62c1a0"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a1a0cb1578213936a730b15bd4b62c1a0" class="m-doc-self">feed_monocular</a>(</span><span class="m-doc-wrap">double timestamp,
              cv::Mat&amp; img,
              size_t cam_id) <span class="m-label m-warning">pure virtual</span></span></span>
            </h3>
            <p>Process a new monocular image.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestamp</td>
                  <td>timestamp the new image occurred at</td>
                </tr>
                <tr>
                  <td>img</td>
                  <td>new cv:Mat grayscale image</td>
                </tr>
                <tr>
                  <td>cam_id</td>
                  <td>the camera id that this new image corresponds too</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a3ab3dae61cb75c69650823f47d7308d0"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a3ab3dae61cb75c69650823f47d7308d0" class="m-doc-self">feed_stereo</a>(</span><span class="m-doc-wrap">double timestamp,
              cv::Mat&amp; img_left,
              cv::Mat&amp; img_right,
              size_t cam_id_left,
              size_t cam_id_right) <span class="m-label m-warning">pure virtual</span></span></span>
            </h3>
            <p>Process new stereo pair of images.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">timestamp</td>
                  <td>timestamp this pair occured at (stereo is synchronised)</td>
                </tr>
                <tr>
                  <td>img_left</td>
                  <td>first grayscaled image</td>
                </tr>
                <tr>
                  <td>img_right</td>
                  <td>second grayscaled image</td>
                </tr>
                <tr>
                  <td>cam_id_left</td>
                  <td>first image camera id</td>
                </tr>
                <tr>
                  <td>cam_id_right</td>
                  <td>second image camera id</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a384a0736f1d62da3261a84be7b5430b3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a384a0736f1d62da3261a84be7b5430b3" class="m-doc-self">display_active</a>(</span><span class="m-doc-wrap">cv::Mat&amp; img_out,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> r1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> g1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> b1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> r2,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> g2,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> b2) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Shows features extracted in the last image.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">img_out</td>
                  <td>image to which we will overlayed features on</td>
                </tr>
                <tr>
                  <td>r1</td>
                  <td>first color to draw in</td>
                </tr>
                <tr>
                  <td>g1</td>
                  <td>first color to draw in</td>
                </tr>
                <tr>
                  <td>b1</td>
                  <td>first color to draw in</td>
                </tr>
                <tr>
                  <td>r2</td>
                  <td>second color to draw in</td>
                </tr>
                <tr>
                  <td>g2</td>
                  <td>second color to draw in</td>
                </tr>
                <tr>
                  <td>b2</td>
                  <td>second color to draw in</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ac6089c0151db430e34d3386355d406b8"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ac6089c0151db430e34d3386355d406b8" class="m-doc-self">display_history</a>(</span><span class="m-doc-wrap">cv::Mat&amp; img_out,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> r1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> g1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> b1,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> r2,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> g2,
              <a href="CMakeCache_8txt.html#a79a3d8790b2588b09777910863574e09" class="m-doc">int</a> b2) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Shows a &quot;trail&quot; for each feature (i.e. its history)</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">img_out</td>
                  <td>image to which we will overlayed features on</td>
                </tr>
                <tr>
                  <td>r1</td>
                  <td>first color to draw in</td>
                </tr>
                <tr>
                  <td>g1</td>
                  <td>first color to draw in</td>
                </tr>
                <tr>
                  <td>b1</td>
                  <td>first color to draw in</td>
                </tr>
                <tr>
                  <td>r2</td>
                  <td>second color to draw in</td>
                </tr>
                <tr>
                  <td>g2</td>
                  <td>second color to draw in</td>
                </tr>
                <tr>
                  <td>b2</td>
                  <td>second color to draw in</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a2502acec48c294534be3100e137614ff"><div>
            <h3>
              <span class="m-doc-wrap-bumper"><a href="classov__core_1_1FeatureDatabase.html" class="m-doc">FeatureDatabase</a>* ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a2502acec48c294534be3100e137614ff" class="m-doc-self">get_feature_database</a>(</span><span class="m-doc-wrap">)</span></span>
            </h3>
            <p>Get the feature database with all the track information.</p>
            <table class="m-table m-fullwidth m-flat">
              <tfoot>
                <tr>
                  <th style="width: 1%">Returns</th>
                  <td><a href="classov__core_1_1FeatureDatabase.html" class="m-doc">FeatureDatabase</a> pointer that one can query for features</td>
                </tr>
              </tfoot>
            </table>
          </div></section>
          <section class="m-doc-details" id="a14c9b34477ca6aa86e7b8f7cca7a4173"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a14c9b34477ca6aa86e7b8f7cca7a4173" class="m-doc-self">change_feat_id</a>(</span><span class="m-doc-wrap">size_t id_old,
              size_t id_new)</span></span>
            </h3>
            <p>Changes the ID of an actively tracked feature to another one.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">id_old</td>
                  <td>Old id we want to change</td>
                </tr>
                <tr>
                  <td>id_new</td>
                  <td>Id we want to change the old id to</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ae4d6d23cff828ac9a04c47c36743280a"><div>
            <h3>
              <span class="m-doc-wrap-bumper">cv::Point2f ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ae4d6d23cff828ac9a04c47c36743280a" class="m-doc-self">undistort_point</a>(</span><span class="m-doc-wrap">cv::Point2f pt_in,
              size_t cam_id)</span></span>
            </h3>
            <p>Main function that will undistort/normalize a point.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">pt_in</td>
                  <td>uv 2x1 point that we will undistort</td>
                </tr>
                <tr>
                  <td>cam_id</td>
                  <td>id of which camera this point is in</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <th>Returns</th>
                  <td>undistorted 2x1 point</td>
                </tr>
              </tfoot>
            </table>
<p>Given a uv point, this will undistort it based on the camera matrices. This will call on the model needed, depending on what type of camera it is! So if we have fisheye for camera_1 is true, we will undistort with the fisheye model. In Kalibr&#x27;s terms, the non-fisheye is <code>pinhole-radtan</code> while the fisheye is the <code>pinhole-equi</code> model.</p>
          </div></section>
          <section class="m-doc-details" id="a9ccde97a49519204713b86b7d8669649"><div>
            <h3>
              <span class="m-doc-wrap-bumper">cv::Point2f ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a9ccde97a49519204713b86b7d8669649" class="m-doc-self">undistort_point_brown</a>(</span><span class="m-doc-wrap">cv::Point2f pt_in,
              cv::Matx33d&amp; camK,
              cv::Vec4d&amp; camD) <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Undistort function RADTAN/BROWN.</p>
<p>Given a uv point, this will undistort it based on the camera matrices. To equate this to Kalibr&#x27;s models, this is what you would use for <code>pinhole-radtan</code>.</p>
          </div></section>
          <section class="m-doc-details" id="a3cbb0736d74105309b487d5bf0a00552"><div>
            <h3>
              <span class="m-doc-wrap-bumper">cv::Point2f ov_core::<wbr />TrackBase::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a3cbb0736d74105309b487d5bf0a00552" class="m-doc-self">undistort_point_fisheye</a>(</span><span class="m-doc-wrap">cv::Point2f pt_in,
              cv::Matx33d&amp; camK,
              cv::Vec4d&amp; camD) <span class="m-label m-warning">protected</span></span></span>
            </h3>
            <p>Undistort function FISHEYE/EQUIDISTANT.</p>
<p>Given a uv point, this will undistort it based on the camera matrices. To equate this to Kalibr&#x27;s models, this is what you would use for <code>pinhole-equi</code>.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Generated by <a href="https://doxygen.org/">Doxygen</a> 1.8.19 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
