<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ov_type::Type class | OpenVINS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600&amp;subset=latin-ext" />
  <link rel="stylesheet" href="m-udel+documentation.compiled.css" />
  <link rel="stylesheet" href="custom.css" />
  <link rel="icon" href="favicon-light.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2f73a3" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">OpenVINS</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="namespaceov__core.html">ov_core</a></li>
            <li><a href="namespaceov__type.html">ov_type</a></li>
            <li><a href="namespaceov__msckf.html">ov_msckf</a></li>
            <li><a href="namespaceov__init.html">ov_init</a></li>
            <li><a href="namespaceov__eval.html">ov_eval</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="8">
            <li><a href="https://github.com/rpng/open_vins/">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="namespaceov__type.html">ov_type</a>::<wbr/></span>Type <span class="m-thin">class</span>
        </h1>
        <p>Base class for estimated variables.</p>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              Reference
              <ul>
                <li><a href="#derived-classes">Derived classes</a></li>
                <li><a href="#typeless-methods">Constructors, destructors, conversion operators</a></li>
                <li><a href="#pub-methods">Public functions</a></li>
                <li><a href="#pro-attribs">Protected variables</a></li>
              </ul>
            </li>
          </ul>
        </div>
<p>This class is used how variables are represented or updated (e.g., vectors or quaternions). Each variable is defined by its error state size and its location in the covariance matrix. We additionally require all sub-types to have a update procedure.</p>
        <section id="derived-classes">
          <h2><a href="#derived-classes">Derived classes</a></h2>
          <dl class="m-doc">
            <dt>
              class <a href="classov__type_1_1IMU.html" class="m-doc">IMU</a>
            </dt>
            <dd>Derived <a href="classov__type_1_1Type.html" class="m-doc">Type</a> class that implements an <a href="classov__type_1_1IMU.html" class="m-doc">IMU</a> state.</dd>
            <dt>
              class <a href="classov__type_1_1JPLQuat.html" class="m-doc">JPLQuat</a>
            </dt>
            <dd>Derived <a href="classov__type_1_1Type.html" class="m-doc">Type</a> class that implements JPL quaternion.</dd>
            <dt>
              class <a href="classov__type_1_1PoseJPL.html" class="m-doc">PoseJPL</a>
            </dt>
            <dd>Derived <a href="classov__type_1_1Type.html" class="m-doc">Type</a> class that implements a 6 d.o.f pose.</dd>
            <dt>
              class <a href="classov__type_1_1Vec.html" class="m-doc">Vec</a>
            </dt>
            <dd>Derived <a href="classov__type_1_1Type.html" class="m-doc">Type</a> class that implements vector variables.</dd>
          </dl>
        </section>
        <section id="typeless-methods">
          <h2><a href="#typeless-methods">Constructors, destructors, conversion operators</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper"><a href="#a512525c192c9bd721e13eef0cb707496" class="m-doc">Type</a>(</span><span class="m-doc-wrap">int size_)</span>
            </dt>
            <dd>Default constructor for our <a href="classov__type_1_1Type.html" class="m-doc">Type</a>.</dd>
          </dl>
        </section>
        <section id="pub-methods">
          <h2><a href="#pub-methods">Public functions</a></h2>
          <dl class="m-doc">
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a52cb2fe6e25dbe8875da3fd618cf0b61" class="m-doc">set_local_id</a>(</span><span class="m-doc-wrap">int new_id) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Sets id used to track location of variable in the filter covariance.</dd>
            <dt id="a3a23de9d85dd9a503fd72c54b948f89c">
              <span class="m-doc-wrap-bumper">auto <a href="#a3a23de9d85dd9a503fd72c54b948f89c" class="m-doc-self">id</a>(</span><span class="m-doc-wrap">) -&gt; int</span>
            </dt>
            <dd>Access to variable id (i.e. its location in the covariance)</dd>
            <dt id="a21e2cf87dcb51a7456d9d94d4e178fae">
              <span class="m-doc-wrap-bumper">auto <a href="#a21e2cf87dcb51a7456d9d94d4e178fae" class="m-doc-self">size</a>(</span><span class="m-doc-wrap">) -&gt; int</span>
            </dt>
            <dd>Access to variable size (i.e. its error state size)</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a4e133d50af35f07bd97f73590fe31000" class="m-doc">update</a>(</span><span class="m-doc-wrap">const Eigen::VectorXd&amp; dx) <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Update variable due to perturbation of error state.</dd>
            <dt id="a578c16c3fe70fd4a0b33c4c39c777b33">
              <span class="m-doc-wrap-bumper">auto <a href="#a578c16c3fe70fd4a0b33c4c39c777b33" class="m-doc-self">value</a>(</span><span class="m-doc-wrap">) const -&gt; const Eigen::MatrixXd&amp; <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Access variable&#x27;s estimate.</dd>
            <dt id="a85a032ffd5c9a04bf7f582f31cdb4bb2">
              <span class="m-doc-wrap-bumper">auto <a href="#a85a032ffd5c9a04bf7f582f31cdb4bb2" class="m-doc-self">fej</a>(</span><span class="m-doc-wrap">) const -&gt; const Eigen::MatrixXd&amp; <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Access variable&#x27;s first-estimate.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#a81c73f0b6c10f2550a487019a59796a9" class="m-doc">set_value</a>(</span><span class="m-doc-wrap">const Eigen::MatrixXd&amp; new_value) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Overwrite value of state&#x27;s estimate.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">void <a href="#ab8345946b27cb43e0cfc36454a06686d" class="m-doc">set_fej</a>(</span><span class="m-doc-wrap">const Eigen::MatrixXd&amp; new_value) <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Overwrite value of first-estimate.</dd>
            <dt id="ab4a020332074ebad50d59427a80fefd6">
              <span class="m-doc-wrap-bumper">auto <a href="#ab4a020332074ebad50d59427a80fefd6" class="m-doc-self">clone</a>(</span><span class="m-doc-wrap">) -&gt; std::shared_ptr&lt;<a href="classov__type_1_1Type.html" class="m-doc">Type</a>&gt; <span class="m-label m-flat m-warning">pure virtual</span></span>
            </dt>
            <dd>Create a clone of this variable.</dd>
            <dt>
              <span class="m-doc-wrap-bumper">auto <a href="#a95fcdbc584256baffc78935de5ab5da3" class="m-doc">check_if_subvariable</a>(</span><span class="m-doc-wrap">const std::shared_ptr&lt;<a href="classov__type_1_1Type.html" class="m-doc">Type</a>&gt; check) -&gt; std::shared_ptr&lt;<a href="classov__type_1_1Type.html" class="m-doc">Type</a>&gt; <span class="m-label m-flat m-warning">virtual</span></span>
            </dt>
            <dd>Determine if pass variable is a sub-variable.</dd>
          </dl>
        </section>
        <section id="pro-attribs">
          <h2><a href="#pro-attribs">Protected variables</a></h2>
          <dl class="m-doc">
            <dt id="a9e035fed9c1dc0e975f7e41c2a95695f">
              Eigen::MatrixXd <a href="#a9e035fed9c1dc0e975f7e41c2a95695f" class="m-doc-self">_fej</a>
            </dt>
            <dd>First-estimate.</dd>
            <dt id="a40afb4c94c3d11db860b98c186e22312">
              Eigen::MatrixXd <a href="#a40afb4c94c3d11db860b98c186e22312" class="m-doc-self">_value</a>
            </dt>
            <dd>Current best estimate.</dd>
            <dt id="adb644d3f30691886f153527a9782a1e0">
              int <a href="#adb644d3f30691886f153527a9782a1e0" class="m-doc-self">_id</a>
            </dt>
            <dd>Location of error state in covariance.</dd>
            <dt id="ae7450adb49403a591013e1719ab1e46e">
              int <a href="#ae7450adb49403a591013e1719ab1e46e" class="m-doc-self">_size</a>
            </dt>
            <dd>Dimension of error state.</dd>
          </dl>
        </section>
        <section>
          <h2>Function documentation</h2>
          <section class="m-doc-details" id="a512525c192c9bd721e13eef0cb707496"><div>
            <h3>
              <span class="m-doc-wrap-bumper"> ov_type::<wbr />Type::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a512525c192c9bd721e13eef0cb707496" class="m-doc-self">Type</a>(</span><span class="m-doc-wrap">int size_)</span></span>
            </h3>
            <p>Default constructor for our <a href="classov__type_1_1Type.html" class="m-doc">Type</a>.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">size_</td>
                  <td>degrees of freedom of variable (i.e., the size of the error state)</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a52cb2fe6e25dbe8875da3fd618cf0b61"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_type::<wbr />Type::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a52cb2fe6e25dbe8875da3fd618cf0b61" class="m-doc-self">set_local_id</a>(</span><span class="m-doc-wrap">int new_id) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Sets id used to track location of variable in the filter covariance.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">new_id</td>
                  <td>entry in filter covariance corresponding to this variable</td>
                </tr>
              </tbody>
            </table>
<p>Note that the minimum ID is -1 which says that the state is not in our covariance. If the ID is larger than -1 then this is the index location in the covariance matrix.</p>
          </div></section>
          <section class="m-doc-details" id="a4e133d50af35f07bd97f73590fe31000"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_type::<wbr />Type::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a4e133d50af35f07bd97f73590fe31000" class="m-doc-self">update</a>(</span><span class="m-doc-wrap">const Eigen::VectorXd&amp; dx) <span class="m-label m-warning">pure virtual</span></span></span>
            </h3>
            <p>Update variable due to perturbation of error state.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">dx</td>
                  <td>Perturbation used to update the variable through a defined &quot;boxplus&quot; operation</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a81c73f0b6c10f2550a487019a59796a9"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_type::<wbr />Type::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a81c73f0b6c10f2550a487019a59796a9" class="m-doc-self">set_value</a>(</span><span class="m-doc-wrap">const Eigen::MatrixXd&amp; new_value) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Overwrite value of state&#x27;s estimate.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">new_value</td>
                  <td>New value that will overwrite state&#x27;s value</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="ab8345946b27cb43e0cfc36454a06686d"><div>
            <h3>
              <span class="m-doc-wrap-bumper">void ov_type::<wbr />Type::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#ab8345946b27cb43e0cfc36454a06686d" class="m-doc-self">set_fej</a>(</span><span class="m-doc-wrap">const Eigen::MatrixXd&amp; new_value) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Overwrite value of first-estimate.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">new_value</td>
                  <td>New value that will overwrite state&#x27;s fej</td>
                </tr>
              </tbody>
            </table>
          </div></section>
          <section class="m-doc-details" id="a95fcdbc584256baffc78935de5ab5da3"><div>
            <h3>
              <span class="m-doc-wrap-bumper">std::shared_ptr&lt;<a href="classov__type_1_1Type.html" class="m-doc">Type</a>&gt; ov_type::<wbr />Type::<wbr /></span><span class="m-doc-wrap"><span class="m-doc-wrap-bumper"><a href="#a95fcdbc584256baffc78935de5ab5da3" class="m-doc-self">check_if_subvariable</a>(</span><span class="m-doc-wrap">const std::shared_ptr&lt;<a href="classov__type_1_1Type.html" class="m-doc">Type</a>&gt; check) <span class="m-label m-warning">virtual</span></span></span>
            </h3>
            <p>Determine if pass variable is a sub-variable.</p>
            <table class="m-table m-fullwidth m-flat">
              <thead>
                <tr><th colspan="2">Parameters</th></tr>
              </thead>
              <tbody>
                <tr>
                  <td style="width: 1%">check</td>
                  <td><a href="classov__type_1_1Type.html" class="m-doc">Type</a> pointer to compare our subvariables to</td>
                </tr>
              </tbody>
            </table>
<p>If the passed variable is a sub-variable or the current variable this will return it. Otherwise it will return a nullptr, meaning that it was unable to be found.</p>
          </div></section>
        </section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Generated by <a href="https://doxygen.org/">Doxygen</a> 1.8.16 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
