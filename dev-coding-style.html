<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Developer and Internals &raquo; Coding Style Guide | OpenVINS</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600&amp;subset=latin-ext" />
  <link rel="stylesheet" href="m-udel+documentation.compiled.css" />
  <link rel="stylesheet" href="custom.css" />
  <link rel="icon" href="favicon-light.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2f73a3" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">OpenVINS</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="namespaceov__core.html">ov_core</a></li>
            <li><a href="namespaceov__type.html">ov_type</a></li>
            <li><a href="namespaceov__msckf.html">ov_msckf</a></li>
            <li><a href="namespaceov__init.html">ov_init</a></li>
            <li><a href="namespaceov__eval.html">ov_eval</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="8">
            <li><a href="https://github.com/rpng/open_vins/">GitHub</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          <span class="m-breadcrumb"><a href="dev-welcome.html">Developer and Internals</a> &raquo;</span>
          Coding Style Guide
        </h1>
<section id="coding-style-overview"><h2><a href="#coding-style-overview">Overview</a></h2><p>Please note that if you have a good excuse to either break the rules or modify them, feel free to do it (and update this guide accordingly, if appropriate). Nothing is worse than rule that hurts productivity instead of improving it. In general, the main aim of this style is:</p><ul><li>Vertical and horizontal compression, fitting more code on a screen while keeping the code readable.</li><li>Do not need to enforce line wrapping if clarity is impacted (i.e. Jacobians)</li><li>Consistent indentation and formatting rules to ensure readability (4 space tabbing)</li></ul><p>The codebase is coded in <a href="https://en.wikipedia.org/wiki/Snake_case">snake_<wbr />case</a> with accessor and getter function for most classes (there are a few exceptions). We leverage the <a href="http://www.doxygen.nl/">Doxygen</a> documentation system with a post-processing script from <a href="https://mcss.mosra.cz/documentation/doxygen/">m.css</a>. Please see <a href="dev-docs.html" class="m-doc">Documentation Guide</a> for details on how our documentation is generated. All functions should be commented both internally and externally with a focus on being as clear to a developer or user that is reading the code or documentation website.</p></section><section id="coding-style-naming"><h2><a href="#coding-style-naming">Naming Conventions</a></h2><p>We have particular naming style for our orientations and positions that should be consistent throughout the project. In general rotation matrices are the only exception of a variable that starts with a capital letter. Both position and orientation variables should contain the frame of references.</p><pre class="m-code"><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="o">&gt;</span> <span class="n">R_ItoC</span><span class="p">;</span> <span class="c1">//=&gt; SO(3) rotation from IMU to camera frame</span>
<span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="o">&gt;</span> <span class="n">q_ItoC</span><span class="p">;</span> <span class="c1">//=&gt; JPL quaternion rot from IMU to the camera</span>
<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span> <span class="n">p_IinC</span><span class="p">;</span> <span class="c1">//=&gt; 3d position of the IMU frame in the camera frame</span>
<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span> <span class="n">p_FinG</span><span class="p">;</span> <span class="c1">//=&gt; position of feature F in the global frame G</span></pre></section><section id="coding-style-printing"><h2><a href="#coding-style-printing">Print Statements</a></h2><p>The code uses a simple print statement level logic that allows the user to enable and disable the verbosity. In general the user can specify the following (see <a href="ov_core/src/utils/print.h">ov_<wbr />core/src/utils/print.h</a> file for details):</p><ul><li>PrintLevel::ALL : All PRINT_XXXX will output to the console</li><li>PrintLevel::DEBUG : &quot;DEBUG&quot;, &quot;INFO&quot;, &quot;WARNING&quot; and &quot;ERROR&quot; will be printed. &quot;ALL&quot; will be silenced</li><li>PrintLevel::INFO : &quot;INFO&quot;, &quot;WARNING&quot; and &quot;ERROR&quot; will be printed. &quot;ALL&quot; and &quot;DEBUG&quot; will be silenced</li><li>PrintLevel::WARNING : &quot;WARNING&quot; and &quot;ERROR&quot; will be printed. &quot;ALL&quot;, &quot;DEBUG&quot; and &quot;INFO&quot; will be silenced</li><li>PrintLevel::ERROR : Only &quot;ERROR&quot; will be printed. All the rest are silenced</li><li>PrintLevel::SILENT : All PRINT_XXXX will be silenced.</li></ul><p>To use these, you can specify the following using the <a href="https://www.cplusplus.com/reference/cstdio/printf/">printf</a> standard input logic. A user can also specify colors (see <a href="ov_core/src/utils/colors.h">ov_<wbr />core/src/utils/colors.h</a> file for details):</p><pre class="m-code"><span class="n">PRINT_ALL</span><span class="p">(</span><span class="s">&quot;the value is %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="p">);</span>
<span class="n">PRINT_DEBUG</span><span class="p">(</span><span class="s">&quot;the value is %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="p">);</span>
<span class="n">PRINT_INFO</span><span class="p">(</span><span class="s">&quot;the value is %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="p">);</span>
<span class="n">PRINT_WARNING</span><span class="p">(</span><span class="s">&quot;the value is %.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">variable</span><span class="p">);</span>
<span class="n">PRINT_ERROR</span><span class="p">(</span><span class="n">RED</span> <span class="s">&quot;the value is %.2f</span><span class="se">\n</span><span class="s">&quot;</span> <span class="n">RESET</span><span class="p">,</span> <span class="n">variable</span><span class="p">);</span></pre></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Generated by <a href="https://doxygen.org/">Doxygen</a> 1.8.16 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
